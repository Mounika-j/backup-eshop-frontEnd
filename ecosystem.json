{
    "apps":[{
        "name":"enshire-backend-staging",
        "script":"server.js",
        "env_staging":{
            "NODE_ENV":"staging"
        }
    }],
    "deploy":{
        "staging":{
            "user":"ubuntu",
            "host":"ec2-52-14-183-115.us-east-2.compute.amazonaws.com",
            "ref":"origin/master",
            "pre-deploy": "git checkout package-lock.json",
            "repo":"git@bitbucket.org:EnshireInc/enshire-backend.git",
            "origin":"https://EnshireInc@bitbucket.org/EnshireInc/enshire-backend.git",
            "path":"/home/ubuntu/enshire-backend",
            "ssh_options": "StrictHostKeyChecking=no",
            "key":"~/Documents/enshire-back-end/enshire-dev.pem",
            "post-deploy" : "source ~/.nvm/nvm.sh && nvm use 10.15 && npm install && pm2 startOrRestart ecosystem.json --env staging",
            "env"  : {
                "NODE_ENV": "staging"
              }
        },
        "production":{
            "user":"ubuntu",
            "host":"ec2-3-18-165-49.us-east-2.compute.amazonaws.com",
            "ref":"origin/master",
            "pre-deploy": "git checkout package-lock.json",
            "repo":"git@bitbucket.org:EnshireInc/enshire-backend.git",
            "origin":"https://EnshireInc@bitbucket.org/EnshireInc/enshire-backend.git",
            "path":"/home/ubuntu/enshire-backend/current",
            "ssh_options": "StrictHostKeyChecking=no",
            "key":"~/Documents/enshire-dev.pem",
            "post-deploy" : "source ~/.nvm/nvm.sh && nvm use 10.15 && npm install && pm2 startOrRestart ecosystem.json --env production",
            "env"  : {
                "NODE_ENV": "production"
              }
        }
    }
}